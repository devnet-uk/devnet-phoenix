echo "ğŸš€ Running pre-push quality checks..."

# Run all tests
echo "ğŸ§ª Running full test suite..."
pnpm test:run || {
  echo "âŒ Test suite failed"
  exit 1
}

# Verify build works
echo "ğŸ—ï¸  Verifying build..."
pnpm build || {
  echo "âŒ Build failed"
  exit 1
}

# Type checking for all packages
echo "ğŸ”§ Running comprehensive type check..."
pnpm type-check || {
  echo "âŒ Type checking failed"
  exit 1
}

# Security audit
echo "ğŸ”’ Running security audit..."
pnpm audit --audit-level moderate || {
  echo "âŒ Security vulnerabilities found"
  exit 1
}

echo "âœ… All pre-push checks passed!"